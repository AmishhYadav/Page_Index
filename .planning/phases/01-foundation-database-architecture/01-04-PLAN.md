---
wave: 3
depends_on: ["01-01-PLAN.md", "01-03-PLAN.md"]
files_modified: ["app/db/qdrant.py", "scripts/init_qdrant.py"]
autonomous: true
requirements: ["API-01", "INF-04"]
---

# Plan 01-04: Qdrant Setup

## Goal
Implement Qdrant connection management and collection initialization scripts based on Pydantic config.

<tasks>
  <task id="1" title="Setup Qdrant Connection">
    <description>Create `app/db/qdrant.py`. Instantiate the `QdrantClient` using the `QDRANT_URL` from the main application settings, facilitating dependency injection for routers.</description>
  </task>
  <task id="2" title="Collection Initialization Script">
    <description>Create `scripts/init_qdrant.py` which dynamically imports the designated `EmbeddingProvider` (from Plan 01-03), invokes `get_dimension()`, and creates a Qdrant collection named `sections` using this inferred dimensionality. Set distance metric to Cosine.</description>
  </task>
</tasks>

<verification>
1. `init_qdrant.py` script executes without failure against a local Qdrant container.
2. Qdrant HTTP API confirms the `sections` collection exists with the exact vector dimension required by the abstract provider.
</verification>

<must_haves>
- Qdrant connection instantiated.
- Vector dimensionality is *not* hardcoded, but pulled from the embedding interface configuration.
- A functional setup script is provided for reproducible environment builds.
</must_haves>
