---
wave: 1
depends_on: []
files_modified: ["app/services/pdf_processor.py", "requirements.txt"]
autonomous: true
requirements: ["INGST-02"]
---

# Plan 02-01: PDF Extraction Service

## Goal
Implement a robust PDF processing service using PyMuPDF to extract text hierarchy (Page -> Section).

<tasks>
  <task id="1" title="Install PyMuPDF">
    <description>Add `pymupdf` to `requirements.txt` and install it in the local environment.</description>
  </task>
  <task id="2" title="Create PDFProcessor Implementation">
    <description>Create `app/services/pdf_processor.py`. Implement a class that opens a PDF byte stream, iterates through pages, and identifies logical sections based on font size/weight or specific block headers. Output should be a list of page objects, each containing a list of section objects (dict-like structures).</description>
  </task>
  <task id="3" title="Unit Test for Extraction">
    <description>Create a script or test file to run the processor against a provided sample PDF (or mock file) to verify it detects multiple pages and correctly segments sections within those pages.</description>
  </task>
</tasks>

<verification>
1. `pdf_processor.py` successfully parses a multi-page PDF into a nested list structure.
2. Section counting matches expected logical divisions of the test document.
</verification>

<must_haves>
- Successful extraction of text per page.
- Clear segmentation of logical sections with a fallback strategy if headers aren't detected.
- Maintain a stable internal representation of Document -> Page -> Section.
</must_haves>
